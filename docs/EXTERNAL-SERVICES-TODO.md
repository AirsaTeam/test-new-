# کارهایی که برای تکمیل سیستم باید خودت انجام بدهی

این موارد به **سخت‌افزار** یا **سرویس خارجی** (اپراتور SMS، چاپگر و غیره) وابسته‌اند و بدون انتخاب مدل/سرویس واقعی قابل پیاده‌سازی نهایی نیستند.

---

## ۱. باسکول (وزن‌کشی)

**وضعیت:** در سیستم فقط فیلد وزن در فرم و در رزرو ذخیره می‌شود؛ **اتصال به باسکول واقعی** انجام نشده است.

**کار تو:**
- مدل و برند باسکول را مشخص کن (سریال، USB، یا شبکه).
- پروتکل ارتباطی را پیدا کن (دستورات خواندن وزن، فرمت پاسخ).
- یکی از این دو را پیاده کن:
  - **سرویس/درایور روی ویندوز** که وزن را از باسکول بخواند و مثلاً از طریق WebSocket یا یک API محلی به فرانت/بک بفرستد، یا
  - **اسکریپت/برنامهٔ کوچک** که وزن را در فایل یا دیتابیس مشترک بنویسد و فرانت/بک آن را بخواند.
- در فرم ثبت بار، وقتی وزن از باسکول دریافت شد، آن را در فیلد وزن همان قطعه قرار بده (الان کاربر می‌تواند دستی وزن را وارد کند).

---

## ۲. چاپگر Zebra S4M

**وضعیت:** چاپ از مرورگر (Print) و قالب‌های چاپی برای بوردینگ‌پاس و لیبل‌ها وجود دارد؛ **چاپ مستقیم روی Zebra S4M** (ZPL یا درایور ویندوز) در برنامه نیست.

**کار تو:**
- در تنظیمات یا پنل ادمین یک «چاپگر» تعریف کن (نام، پورت، آدرس شبکه در صورت شبکه‌ای).
- مشخص کن خروجی به Zebra به‌صورت **ZPL** است یا از **درایور ویندوز** استفاده می‌کنی.
- ماژول چاپ را طوری بنویس که:
  - برای هر سند (بوردینگ‌پاس، لیبل بار، لیبل ماشین، رسید) محتوای نهایی را (مثلاً ZPL یا تصویر) تولید کند،
  - آن را به چاپگر انتخاب‌شده (Zebra S4M) بفرستد.
- اندازه و موقعیت لیبل/کارت را طبق اندازهٔ فیزیکی تحویلی با Zebra هماهنگ کن.

---

## ۳. ارسال SMS

**وضعیت:** در سند بزینس برای بار بدون مسافر (و در صورت نیاز سایر موارد) ارسال SMS به مشتری خواسته شده؛ در کد **هیچ اتصالی به سرویس SMS** نیست.

**کار تو:**
- یک **اپراتور یا سرویس ارسال SMS** انتخاب کن (مثلاً سرویس داخلی اپراتور، یا سرویس وب با API).
- API key و پارامترهای اتصال (URL، متد، فرمت شماره) را بگیر.
- در بک‌اند یک سرویس/ماژول برای ارسال SMS بنویس که:
  - شماره موبایل و متن پیام را بگیرد،
  - با سرویس انتخاب‌شده ارتباط برقرار کند و پیام را بفرستد.
- در گردش کار «ثبت بار بدون مسافر» (یا هر جایی که در بزینس گفته شده) بعد از ثبت، این سرویس را صدا بزن و یک SMS وضعیت به مشتری بفرست.

---

## خلاصه

| مورد | وضعیت در کد | کار تو |
|------|-------------|--------|
| باسکول | فقط فیلد وزن؛ بدون اتصال سخت‌افزاری | انتخاب مدل و پروتکل؛ نوشتن درایور/سرویس خواندن وزن و اتصال به فرم |
| چاپگر Zebra S4M | چاپ مرورگر و قالب‌ها هست؛ چاپ مستقیم Zebra نیست | تعریف چاپگر در تنظیمات؛ تولید ZPL/درایور و ارسال به Zebra |
| SMS | هیچ | انتخاب سرویس SMS؛ گرفتن API key؛ پیاده‌سازی ارسال و فراخوانی در گردش کار مناسب |

باقی ماژول‌ها (مدیریت کاربر، PNR، رزرو، بار، خودرو، بنادر، شرکت حمل، جستجو، بارکد استاندارد، PDF رسید) در حد امکان در پروژه پیاده یا تکمیل شده‌اند.
