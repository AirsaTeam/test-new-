# مشخصات کسب‌وکار و فنی — سیستم ترمینال دریایی (Shinas Port International Terminal)

## ۱. خلاصه کسب‌وکار

**دامنه:** ترمینال دریایی برای حمل مسافر، بار و خودرو با کشتی (مثال: امارات ↔ کیش).

**شرکت:** Shinas Port International Terminal

**انواع سرویس:**
| نوع | توضیح |
|-----|--------|
| مسافر + بار | مسافر با چمدان/بار؛ تگ بار + بوردینگ‌پاس |
| مسافر + ماشین | مسافر با خودروی شخصی که با کشتی حمل می‌شود |
| فقط ماشین | خودرو بدون مسافر؛ ارسال با کشتی و تحویل در بندر مقصد |
| فقط بار | بار بدون مسافر (فرستنده/گیرنده جدا) |

---

## ۲. الزامات کلی سیستم

- **پلتفرم:** تحت ویندوز (Windows).
- **دسترسی:** کاربران در **مبدا** و **مقصد** بتوانند مشخصات مسافر و بار را برای ورود/خروج ثبت و مشاهده کنند.
- **قبل از حرکت:** تمام مشخصات مسافر باید در سیستم باشد تا کارت سوار شدن (بوردینگ‌پاس) صادر شود.
- **دسترسی چندمکانی:** تمام کاربران در مقاصد مختلف به اسامی مسافران و بارهای ارسالی دسترسی داشته باشند.
- **امنیت و پشتیبانی:** با توجه به ذخیره اطلاعات اشخاص، پشتیبانی و امنیت (دسترسی، رمزنگاری، پشتیبان‌گیری) تعریف شود.

---

## ۳. گردش کار اصلی

### ۳.۱ رزرو و PNR
- در زمان رزرو برای هر مسافر یک **کد PNR** صادر شود.
- همین کد PNR در بوردینگ‌پاس درج شود.
- با اسکن پاسپورت یا وارد کردن مشخصات فردی، اطلاعات مسافر و PNR نمایش داده شود.
- تمام مشخصات مسافران و بارها در سیستم ذخیره باشد و در خروج/ورود با اسکن پاسپورت در دسترس باشد.

### ۳.۲ وزن‌کشی (باسکول)
- در کانترهای چک‌این **باسکول دیجیتال** نصب است.
- باسکول باید به سیستم **متصل** باشد و وزن به‌صورت همزمان در سیستم نمایش و ذخیره شود.

### ۳.۳ چاپگر
- **مدل چاپگر:** Zebra S4M.
- مدل چاپگر در سیستم **تعریف** شود تا برای چاپ کارت بوردینگ و لیبل تگ چمدان/بار از آن استفاده شود.

### ۳.۴ لوگو و قالب چاپ
- **دو فایل لوگو** با اندازه استاندارد در سیستم بارگذاری شوند (برای چاپ روی تمام کارت‌ها و لیبل‌ها).
- زیر لوگو متن: **Shinas Port International Terminal**.
- جای **بارکد** در قالب با نقطه قرمز علامت‌گذاری شده؛ بارکد توسط سیستم برای هر مسافر/بار ساخته و در کارت و تگ چمدان چاپ شود.
- **پشت تمام کارت‌ها:** تبلیغ شرکت (متن و مشخصات تبلیغ از طرف شرکت ارسال می‌شود).

---

## ۴. محتوای بارکد (یکسان برای همهٔ بارکدهای مرتبط با مسافر/بار)

بارکد باید شامل فیلدهای زیر باشد (در سیستم ذخیره و به‌صورت بارکد چاپ شود):

- Passenger Name
- Passport NO
- ID NO
- DATE
- ORIGIN
- DESTINATION
- BAGGAGE TYPE
- PIECE & WEIGHT

---

## ۵. طراحی سندها و لیبل‌ها

### ۵.۱ بوردینگ‌پاس (کارت سوار شدن)

**جلوی کارت:**
- لوگوی شرکت (بالای کارت) + Shinas Port International Terminal
- نام و نام خانوادگی مسافر
- نام شرکت کشتیرانی
- وزن بار و تعداد
- گیت خروجی
- بندر مبدا
- بندر مقصد
- ساعت خروج
- ساعت ورود
- شماره صندلی
- بارکد (در محل مشخص‌شده با نقطه قرمز)

**ساختار فیزیکی کارت:**
- کارت به دو قسمت **بزرگ** و **کوچک** با خط **نقطه‌چین** (قابل جدا شدن).
- در قسمت کوچک: بارکد + نام و نام خانوادگی مسافر + شماره صندلی + منطقه نشستن.

**پشت کارت:** تبلیغ شرکت.

---

### ۵.۲ لیبل تگ بار (چمدان / بار همراه مسافر)

- نام و نام خانوادگی مسافر
- تاریخ
- بندر مبدا
- بندر مقصد
- بارکدهای مخصوص بار:
  - چمدان
  - بارکد شناسایی مشخصات مسافر
  - وزن بار
  - نوع بار
- لوگو و نام شرکت (Shinas Port International Terminal)

---

### ۵.۳ لیبل کیف دستی کابین (CABIN – Max 7Kg)

- متن: **CABIN- Max 7Kg**
- نام و نام خانوادگی مسافر
- نام و لوگوی شرکت (Shinas Port International Terminal)
- نام شرکت کشتیرانی
- بارکد شامل مشخصات بار و مسافر

---

### ۵.۴ لیبل بار بدون مسافر (روی بار نصب می‌شود)

- لوگوی شرکت (Shinas Port International Terminal)
- نام و نام خانوادگی فرستنده + آدرس
- نام و نام خانوادگی گیرنده + آدرس
- نام شرکت حمل‌ونقل
- متصدی تحویل‌گیرنده در مبدا
- شرکت گیرنده در بندر مقصد
- وزن بار و تعداد
- بارکد شامل تمام مشخصات فوق

**خروجی‌های اضافی برای همین بار بدون مسافر:**
- **رسید کاغذی** برای مشتری: همراه بارکد و **شماره پیگیری**
- **فایل PDF** همان رسید
- **SMS** متنی برای آگاهی مشتری از وضعیت بار

---

### ۵.۵ لیبل حمل ماشین همراه مسافر

- لوگوی شرکت (Shinas Port International Terminal)
- مشخصات کامل ماشین (شماره موتور، شماره شاسی)
- مشخصات مالک
- مشخصات شرکت تحویل‌گیرنده در بندر مقصد
- مشخصات فرستنده در بندر مبدا
- نام شرکت حمل‌ونقل
- بارکد برای مشخصات

---

### ۵.۶ لیبل حمل ماشین بدون مسافر

- همان فیلدهای لیبل ماشین همراه مسافر (لوگو، مشخصات ماشین، مالک، فرستنده، گیرنده، شرکت حمل‌ونقل، بارکد).
- تفاوت در نوع سرویس (بدون مسافر) و احتمالاً فیلدهای اضافه برای تحویل در مقصد.

---

### ۵.۷ رسید کاغذی (برای تحویل بار/ماشین بدون همراهی مسافر)

- برای افرادی که بار یا ماشین تحویل می‌دهند و خودشان با کشتی نمی‌آیند.
- شامل بارکد و **شماره پیگیری**.
- طراحی متمایز از بوردینگ‌پاس و لیبل چمدان.

---

## ۶. خلاصه ماژول‌های پیشنهادی برای برنامه‌نویس

| ماژول | مسئولیت |
|-------|----------|
| **مدیریت کاربر و دسترسی** | نقش‌ها (مبدا/مقصد)، احراز هویت، محدودیت دسترسی به داده‌ها |
| **مدیریت شرکت کشتیرانی و بنادر** | تعریف مبدا/مقصد، شرکت‌های حمل‌ونقل |
| **مدیریت مسافر** | ثبت مشخصات مسافر، پاسپورت، ID؛ ارتباط با PNR |
| **مدیریت PNR و رزرو** | صدور PNR، نگهداری ارتباط مسافر–سفر–بار |
| **مدیریت بار** | نوع بار (چمدان، کابین، بار بدون مسافر)، وزن، تعداد؛ اتصال به باسکول |
| **مدیریت خودرو** | مشخصات ماشین (موتور، شاسی)، مالک، فرستنده، گیرنده؛ سرویس با/بدون مسافر |
| **اتصال باسکول** | درایور/سرویس برای دریافت وزن از باسکول و نمایش/ذخیره در سیستم |
| **تعریف چاپگر** | تعریف مدل چاپگر (Zebra S4M) و تنظیمات چاپ برای هر نوع سند |
| **قالب‌های چاپ** | قالب هر سند (بوردینگ‌پاس، تگ چمدان، تگ کابین، لیبل بار، لیبل ماشین، رسید) با جای خالی بارکد و لوگو |
| **تولید بارکد** | تولید بارکد از فیلدهای استاندارد (نام، پاسپورت، ID، تاریخ، مبدا، مقصد، نوع بار، تعداد و وزن) |
| **چاپ** | چاپ به Zebra S4M طبق قالب و داده |
| **خروجی PDF و رسید** | تولید PDF رسید و چاپ رسید کاغذی با شماره پیگیری |
| **ارسال SMS** | ارسال SMS به مشتری برای بار بدون مسافر (و در صورت نیاز سایر موارد) |
| **گزارش و جستجو** | جستجو بر اساس PNR، پاسپورت، شماره پیگیری؛ گزارش مسافران و بارها برای مبدا/مقصد |

---

## ۷. نکات فنی برای برنامه‌نویس

- **پایگاه داده:** جداول جدا برای: مسافران، PNR/رزرو، بارها، خودروها، بنادر، شرکت‌های حمل‌ونقل، کاربران، لاگ عملیات.
- **بارکد:** استفاده از کتابخانه استاندارد (مثلاً برای Zebra: ZPL یا تصویر بارکد)؛ محتوای بارکد طبق بخش ۴ یکسان و قابل اسکن در مبدا/مقصد.
- **باسکول:** ارتباط سریال یا شبکه با باسکول؛ خواندن وزن و به‌روزرسانی فیلد وزن در فرم ثبت بار.
- **چاپگر Zebra S4M:** پشتیبانی از ZPL یا درایور ویندوز؛ اندازه و موقعیت لیبل/کارت طبق اندازه استاندارد تحویلی.
- **امنیت:** رمزنگاری داده‌های حساس، کنترل دسترسی بر اساس نقش و بندر، پشتیبان‌گیری دوره‌ای و سیاست نگهداری لاگ.

---

## ۸. فهرست خروجی‌های چاپی/دیجیتال

| خروجی | نوع | محتوا |
|--------|-----|--------|
| بوردینگ‌پاس | کارت چاپی (دو بخش با خط نقطه‌چین) | طبق بند ۵.۱ |
| تگ چمدان/بار | لیبل چاپی | طبق بند ۵.۲ |
| تگ کیف کابین | لیبل چاپی | طبق بند ۵.۳ |
| لیبل بار بدون مسافر | لیبل چاپی روی بار | طبق بند ۵.۴ |
| رسید بار/ماشین | کاغذ + PDF | بارکد + شماره پیگیری |
| لیبل ماشین (با/بدون مسافر) | لیبل چاپی | طبق بند ۵.۵ و ۵.۶ |
| SMS | پیامک | متن وضعیت بار برای مشتری |

این سند را می‌توان به‌عنوان پایهٔ «مشخصات کسب‌وکار و طراحی» به برنامه‌نویس تحویل داد و در فاز بعد جزئیات UI، API و ساختار دیتابیس را تکمیل کرد.
